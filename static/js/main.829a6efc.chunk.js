(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t){t.city=[{name:"Algeria",code:"DZ",cities:1,locations:1,count:800},{name:"Andorra",code:"AD",cities:2,locations:3,count:78653},{name:"Argentina",code:"AR",cities:1,locations:4,count:14976},{name:"Australia",code:"AU",cities:21,locations:106,count:5783352},{name:"Austria",code:"AT",cities:16,locations:306,count:1521351},{name:"Bahrain",code:"BH",cities:1,locations:1,count:35990},{name:"Bangladesh",code:"BD",cities:1,locations:2,count:27597},{name:"Belgium",code:"BE",cities:14,locations:198,count:1638484},{name:"Bosnia and Herzegovina",code:"BA",cities:10,locations:22,count:994174},{name:"Brazil",code:"BR",cities:72,locations:119,count:2812094},{name:"Canada",code:"CA",cities:12,locations:202,count:4596562},{name:"Chile",code:"CL",cities:150,locations:137,count:6572158},{name:"China",code:"CN",cities:388,locations:1449,count:48910046},{name:"Colombia",code:"CO",cities:11,locations:32,count:336468},{name:"Croatia",code:"HR",cities:17,locations:50,count:667058},{name:"Cura\xe7ao",code:"CW",cities:1,locations:1,count:15457},{name:"Czech Republic",code:"CZ",cities:15,locations:200,count:4402118},{name:"Denmark",code:"DK",cities:7,locations:25,count:443261},{name:"Ethiopia",code:"ET",cities:1,locations:2,count:43725},{name:"Finland",code:"FI",cities:35,locations:108,count:1497245},{name:"France",code:"FR",cities:135,locations:1175,count:18268969},{name:"Germany",code:"DE",cities:36,locations:1027,count:11249837},{name:"Ghana",code:"GH",cities:1,locations:11,count:1595},{name:"Gibraltar",code:"GI",cities:2,locations:6,count:40842},{name:"Hong Kong",code:"HK",cities:9,locations:16,count:1037238},{name:"Hungary",code:"HU",cities:14,locations:50,count:1537427},{name:"India",code:"IN",cities:212,locations:365,count:13337476},{name:"Indonesia",code:"ID",cities:2,locations:3,count:59918},{name:"Iraq",code:"IQ",cities:1,locations:1,count:3112},{name:"Ireland",code:"IE",cities:16,locations:38,count:266081},{name:"Israel",code:"IL",cities:14,locations:159,count:195533826},{name:"Italy",code:"IT",cities:45,locations:104,count:2741963},{name:"Kazakhstan",code:"KZ",cities:1,locations:1,count:8177},{name:"Kenya",code:"KE",cities:1,locations:2,count:2842},{name:"Kosovo",code:"XK",cities:8,locations:9,count:174959},{name:"Kuwait",code:"KW",cities:1,locations:1,count:18372},{name:"Kyrgyzstan",code:"KG",cities:1,locations:1,count:3130},{name:"Lao People's Democratic Republic",code:"LA",cities:1,locations:1,count:753},{name:"Latvia",code:"LV",cities:4,locations:4,count:127242},{name:"Lithuania",code:"LT",cities:8,locations:17,count:359174},{name:"Luxembourg",code:"LU",cities:3,locations:7,count:312587},{name:"Macedonia, the Former Yugoslav Republic of",code:"MK",cities:16,locations:30,count:914996},{name:"Malta",code:"MT",cities:4,locations:4,count:176161},{name:"Mexico",code:"MX",cities:5,locations:101,count:2859635},{name:"Mongolia",code:"MN",cities:25,locations:42,count:2790190},{name:"Myanmar",code:"MM",cities:1,locations:1,count:1310},{name:"Nepal",code:"NP",cities:1,locations:4,count:69344},{name:"Netherlands",code:"NL",cities:68,locations:113,count:7424868},{name:"Nigeria",code:"NG",cities:1,locations:1,count:2541},{name:"Norway",code:"NO",cities:37,locations:83,count:2694604},{name:"Pakistan",code:"PK",cities:4,locations:4,count:4886},{name:"Peru",code:"PE",cities:1,locations:21,count:692438},{name:"Philippines",code:"PH",cities:1,locations:1,count:958},{name:"Poland",code:"PL",cities:148,locations:208,count:4243113},{name:"Portugal",code:"PT",cities:16,locations:67,count:2464062},{name:"Russian Federation",code:"RU",cities:1,locations:49,count:187117},{name:"Serbia",code:"RS",cities:4,locations:6,count:124721},{name:"Singapore",code:"SG",cities:1,locations:1,count:1275},{name:"Slovakia",code:"SK",cities:8,locations:38,count:1706029},{name:"Slovenia",code:"SI",cities:8,locations:8,count:104826},{name:"South Africa",code:"ZA",cities:1,locations:11,count:582506},{name:"Spain",code:"ES",cities:115,locations:1107,count:15009468},{name:"Sri Lanka",code:"LK",cities:1,locations:1,count:13775},{name:"Sweden",code:"SE",cities:3,locations:15,count:333209},{name:"Switzerland",code:"CH",cities:14,locations:25,count:976837},{name:"Taiwan, Province of China",code:"TW",cities:30,locations:77,count:4845341},{name:"Thailand",code:"TH",cities:34,locations:69,count:4673029},{name:"Turkey",code:"TR",cities:43,locations:152,count:5640285},{name:"Uganda",code:"UG",cities:1,locations:1,count:18363},{name:"United Arab Emirates",code:"AE",cities:2,locations:2,count:37779},{name:"United Kingdom",code:"GB",cities:112,locations:162,count:8976829},{name:"United States",code:"US",cities:780,locations:2104,count:52436534},{name:"Uzbekistan",code:"UZ",cities:1,locations:1,count:10984},{name:"Viet Nam",code:"VN",cities:2,locations:3,count:56422}]},33:function(e,t,a){e.exports=a(61)},61:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(28),i=a.n(o),s=a(2),l=a(3),r=a(30),m=a(5),u=a(6),d=a(8),p=a(7),h=a(9),E=a(12),f=a(11),v=a.n(f),y=a(17),g=a(31),b=a.n(g),N=a(18),C=a.n(N),w=function(e){return function(){var t=Object(y.a)(v.a.mark(function t(a){var n,c;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.a.create({baseURL:"https://api.openaq.org/v1/latest",params:{country:e,limit:1e3,parameter:"pm10"}});case 2:return n=t.sent,t.next=5,n.get();case 5:return c=t.sent,t.abrupt("return",a({type:"CITY_FETCHED",payload:c}));case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},k=b.a.memoize(function(){var e=Object(y.a)(v.a.mark(function e(t,a){var n,c;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.create({baseURL:"https://en.wikipedia.org/w/api.php",params:{action:"opensearch",prop:"description",search:t,origin:"*",format:"json"}});case 2:return n=e.sent,e.next=5,n.get();case 5:return c=e.sent,e.abrupt("return",a({type:"CITY_DETAILS_FETCHED",payload:c.data,cityName:t}));case 7:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()),S=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.city,a=t;if(!t)return c.a.createElement("div",{className:"text-center info"},c.a.createElement("b",null,"Check The Most Polluted Cities In The Selected Country"));var n=t.data.results,o=[],i=[],s="",l=new Date,r=l.getFullYear()+"-"+("0"+(l.getMonth()+1)).slice(-2)+"-"+("0"+l.getDate()).slice(-2);o.push(n.sort(function(e,t){return t.measurements[0].value-e.measurements[0].value})),o[0].forEach(function(e){if(s=e.measurements[0].lastUpdated,s.slice(0,10)===r)return i.push(e)}),console.log(i);var m=Object(E.a)(new Set(i.map(function(e){return e.city})));return console.log(m),m.forEach(function(t,a){a<10&&e.props.fetchCityDetails(t)}),a=m.map(function(t,a){if(a<10){var n="#".concat(a),o="",s="",l="",r="";return i.forEach(function(e,a){a<10&&t===e.city&&(r=parseFloat(e.measurements[0].value).toFixed(2),l=e.measurements[0].lastUpdated.slice(0,10)+" "+e.measurements[0].lastUpdated.slice(11,16))}),void 0!==e.props.cityDescription[a]&&e.props.cityDescription.forEach(function(e){e[0]===t&&(o=e[2][0],s=e[3][0])}),c.a.createElement("div",{className:"card",key:t+a},c.a.createElement("div",{className:"card-header",id:t,role:"button","data-toggle":"collapse","data-target":n,"aria-expanded":"false","aria-controls":a},c.a.createElement("div",{className:"row flex"},c.a.createElement("div",{className:"flex cityName"},c.a.createElement("h3",{className:"position col-2"},a+1),c.a.createElement("h3",{className:"mb-0 cityName col-10"},t)),c.a.createElement("div",{className:"pollution"},c.a.createElement("div",{className:"flex"},c.a.createElement("span",null,"Date:"),c.a.createElement("span",null,l)," "),c.a.createElement("div",{className:"flex"},c.a.createElement("span",null,"Pollution (pm10):"),c.a.createElement("span",null,r," \u03bcg/m",c.a.createElement("sup",null,"3")),"  ")))),c.a.createElement("div",{id:a,className:"collapse","aria-labelledby":"headingOne","data-parent":"#accordionExample"},c.a.createElement("div",{className:"card-body"},c.a.createElement("p",null,o),c.a.createElement("p",{className:"float-right"},c.a.createElement("a",{href:s},"More information")))))}}),c.a.createElement("div",null,a)}}]),t}(c.a.Component),I=Object(s.b)(function(e){return{cityDescription:e.citiesDescription}},{fetchCityDetails:function(e){return function(t){return k(e,t)}}})(S),L=a(32),O=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(c)))).state={term:"",errors:""},a.check=function(){var e="";a.state.term&&(e=a.state.term.toLowerCase()),L.city.forEach(function(t){var n=t.name.toLowerCase();if(e===n)return console.log(t.code),a.props.fetchCity(t.code)})},a.onInputChange=function(e){a.setState({term:e.target.value})},a.onFormSubmit=function(e){e.preventDefault();var t=a.state.term.toLowerCase();sessionStorage.setItem("key",t),a.check()},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=sessionStorage.getItem("key");e&&this.setState({term:e})}},{key:"componentDidMount",value:function(){this.check()}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("div",{className:"row "},c.a.createElement("div",null),c.a.createElement("div",{className:"col-3"}),c.a.createElement("div",{className:"col-6 search"},c.a.createElement("div",{className:"row my-1"},c.a.createElement("div",{className:"input-group col-10"},c.a.createElement("form",{onSubmit:this.onFormSubmit},c.a.createElement("input",{type:"text",className:"form-control",id:"validationDefault01",placeholder:"  Search . . .",value:this.state.term,onChange:this.onInputChange}))),c.a.createElement("div",{className:"col-2 serach"},c.a.createElement("span",{className:"float-right"},c.a.createElement("i",{className:"fas fa-search fa-2x",onClick:this.onFormSubmit}))))),c.a.createElement("div",{className:"col-3"})),c.a.createElement("div",{className:"d-flex justify-content-center"},c.a.createElement("div",{className:"text-center error"},this.state.errors)))}}]),t}(c.a.Component),j=Object(s.b)(function(e){return{cityList:e.citiesList}},{fetchCity:w})(O),D=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("ul",{className:"slideshow"},c.a.createElement("li",null,c.a.createElement("span",null,"Image 01"),c.a.createElement("div",{className:"animation-photo"},c.a.createElement("h3",null,"\xb7 \xb7 Paris \xb7 \xb7"))),c.a.createElement("li",null,c.a.createElement("span",null,"Image 02"),c.a.createElement("div",{className:"animation-photo"},c.a.createElement("h3",null,"\xb7 \xb7 Warsaw \xb7 \xb7"))),c.a.createElement("li",null,c.a.createElement("span",null,"Image 03"),c.a.createElement("div",{className:"animation-photo"},c.a.createElement("h3",null,"\xb7 \xb7 Madrid \xb7 \xb7"))),c.a.createElement("li",null,c.a.createElement("span",null,"Image 04"),c.a.createElement("div",{className:"animation-photo"},c.a.createElement("h3",null,"\xb7 \xb7 Berlin \xb7 \xb7")))),c.a.createElement("div",{className:"container searchLine"},c.a.createElement(j,null),c.a.createElement("div",{className:"CityList"},c.a.createElement(I,{city:this.props.cityList[0]})),c.a.createElement("footer",{className:"copyright text-center text-light"},c.a.createElement("div",null,"\xa9 by Michal Oznerek."),c.a.createElement("div",null,"Powered by",c.a.createElement("a",{href:"https://openaq.org/",className:"link"},"openaq.org"),"&",c.a.createElement("a",{href:"https://www.mediawiki.org/wiki/MediaWiki",className:"link"},"mediawiki.org")))))}}]),t}(c.a.Component),T=Object(s.b)(function(e){return{cityList:e.citiesList}},{fetchCity:w})(D),x=function(){return c.a.createElement("div",null,c.a.createElement(T,null))},A=Object(l.c)({citiesList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CITY_FETCHED":return[t.payload];default:return e}},citiesDescription:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CITY_DETAILS_FETCHED":return[].concat(Object(E.a)(e),[t.payload]);default:return e}}}),M=Object(l.d)(A,Object(l.a)(r.a));i.a.render(c.a.createElement(s.a,{store:M},c.a.createElement(x,null)),document.querySelector("#root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.829a6efc.chunk.js.map